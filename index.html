<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetMark | Network Bookmark Organizer</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-slate-50 text-slate-800 h-screen w-screen overflow-hidden flex font-sans selection:bg-blue-100/50 selection:text-blue-900">

    <!-- Mobile Sidebar Overlay -->
    <div id="sidebarOverlay" onclick="app.toggleSidebar()" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-30 hidden md:hidden transition-opacity opacity-0"></div>

    <!-- Sidebar -->
    <aside id="appSidebar" class="fixed inset-y-0 left-0 z-40 w-72 bg-slate-900 text-slate-300 flex flex-col shadow-2xl sidebar-transition transform -translate-x-full md:translate-x-0 md:relative md:shadow-none border-r border-slate-800/50">
        <!-- App Header -->
        <div class="h-16 flex items-center px-6 bg-slate-950 border-b border-slate-800 shrink-0">
            <div class="w-8 h-8 rounded bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center mr-3 shadow-lg shadow-blue-500/20">
                <i class="fa-solid fa-network-wired text-white text-sm"></i>
            </div>
            <span class="font-bold text-lg text-white tracking-tight">NetMark</span>
            <!-- Mobile Close Button -->
            <button onclick="app.toggleSidebar()" class="md:hidden ml-auto text-slate-400 hover:text-white">
                <i class="fa-solid fa-xmark text-xl"></i>
            </button>
        </div>

        <!-- Organization Switcher -->
        <div class="p-4 border-b border-slate-800 shrink-0">
            <label class="text-[10px] uppercase font-bold text-slate-500 tracking-wider mb-2 block">Organization</label>
            <div class="relative">
                <button id="orgDropdownBtn" class="w-full bg-slate-800/50 hover:bg-slate-800 text-white p-2.5 rounded-lg flex justify-between items-center transition-all text-sm border border-slate-700/50 hover:border-slate-600 group">
                    <div class="flex items-center gap-2 overflow-hidden">
                        <div class="w-2 h-2 rounded-full bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"></div>
                        <span id="currentOrgName" class="truncate font-medium text-slate-200">Select Org...</span>
                    </div>
                    <i class="fa-solid fa-chevron-down text-xs text-slate-500 group-hover:text-slate-300 transition-colors"></i>
                </button>
                
                <!-- Org Dropdown -->
                <div id="orgDropdownMenu" class="hidden absolute top-full left-0 w-full bg-slate-800 border border-slate-700 rounded-lg mt-2 shadow-xl z-50 max-h-56 overflow-y-auto ring-1 ring-black/5">
                    <!-- Orgs injected here -->
                </div>
            </div>
            <button onclick="app.openModal('orgModal')" class="mt-3 text-xs text-blue-400 hover:text-blue-300 flex items-center gap-1.5 transition-colors font-medium px-1">
                <i class="fa-solid fa-plus"></i> New Organization
            </button>
        </div>

        <!-- Folders List -->
        <div class="flex-1 overflow-y-auto p-4 custom-scrollbar">
            <div class="flex justify-between items-center mb-3 group px-1">
                <label class="text-[10px] uppercase font-bold text-slate-500 tracking-wider">Navigation</label>
                <button onclick="app.openModal('folderModal')" class="text-slate-500 hover:text-white transition-colors p-1 rounded hover:bg-slate-800" title="Add Folder">
                    <i class="fa-solid fa-plus text-xs"></i>
                </button>
            </div>
            <nav id="folderList" class="space-y-1">
                <!-- Folders injected here -->
            </nav>
        </div>

        <!-- Trash Area (Pinned to bottom) -->
        <div id="trashContainer" class="px-4 pb-2 bg-slate-900 shrink-0">
            <!-- Trash Button injected here -->
        </div>

        <!-- Footer -->
        <div class="p-4 bg-slate-950/50 border-t border-slate-800 text-[10px] text-slate-500 flex justify-between items-center shrink-0">
            <span>v1.5.1 <span class="hidden sm:inline">â€¢ Stable</span></span>
            <button onclick="app.resetData()" class="hover:text-red-400 transition-colors flex items-center gap-1">
                <i class="fa-solid fa-trash-can"></i> Reset
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col h-full overflow-hidden relative bg-slate-50/50 w-full">
        
        <!-- Top Bar (Sticky & Blurry) -->
        <header class="h-16 bg-white/80 backdrop-blur-md border-b border-slate-200 flex justify-between items-center px-4 md:px-6 z-20 sticky top-0">
            <div class="flex items-center gap-3 md:gap-4 overflow-hidden">
                <button onclick="app.toggleSidebar()" class="md:hidden text-slate-500 hover:text-slate-800 p-1">
                    <i class="fa-solid fa-bars text-xl"></i>
                </button>
                <div class="flex flex-col">
                    <h2 id="pageTitle" class="text-lg md:text-xl font-bold text-slate-800 truncate leading-tight">Dashboard</h2>
                    <span id="itemCount" class="text-[10px] text-slate-400 font-medium uppercase tracking-wide hidden md:block"></span>
                </div>
            </div>

            <div class="flex items-center gap-2 md:gap-3">
                <div class="relative group">
                    <i class="fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors"></i>
                    <input type="text" id="searchInput" placeholder="Search..." 
                        class="pl-9 pr-4 py-2 bg-slate-100 border-none rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 w-32 md:w-64 transition-all placeholder:text-slate-400">
                </div>
                <button onclick="app.openModal('bookmarkModal')" class="bg-blue-600 hover:bg-blue-700 text-white w-9 h-9 md:w-auto md:h-auto md:px-4 md:py-2 rounded-full md:rounded-lg text-sm font-medium shadow-lg shadow-blue-600/20 transition-all flex items-center justify-center gap-2 active:scale-95">
                    <i class="fa-solid fa-plus"></i> <span class="hidden md:inline">Add</span>
                </button>
            </div>
        </header>

        <!-- Bookmark Grid Area -->
        <div id="mainView" class="flex-1 overflow-y-auto p-4 md:p-6 pb-20 md:pb-6">
            <!-- Content injected here -->
        </div>

    </main>

    <!-- Generic Modal Overlay -->
    <div id="modalOverlay" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <!-- Content -->
        <div id="modalContent" class="bg-white rounded-2xl shadow-2xl w-full max-w-lg transform transition-all p-6 relative overflow-hidden ring-1 ring-black/5 animate-scale-in">
            <!-- Dynamic Form -->
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 md:translate-x-0 md:left-auto md:right-6 bg-slate-800 text-white px-5 py-3 rounded-full shadow-2xl translate-y-24 opacity-0 transition-all duration-300 z-50 flex items-center gap-3 min-w-[200px] justify-center md:justify-start">
        <i class="fa-solid fa-check-circle text-emerald-400 text-lg"></i>
        <span id="toastMsg" class="font-medium text-sm">Action successful</span>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script type="module" src="/src/main.ts"></script>
</body>
</html>
